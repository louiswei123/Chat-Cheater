# Chat-Cheater
2012年软件设计竞赛 基于Qt的一款带后门的聊天软件

1.创意说明	
1.1背景介绍
为了获取对方主机上的重要情报，我们往往需要对其种植木马以实现远程控制。而随着用户防范意识的增强，普通的木马控制程序往往容易被用户通过通信监测工具暴露行踪。所以我们制作了“Chat Cheater”（包括Chat Server 和 Chat Client），它把自己伪装成了一个普通的局域网/互联网聊天软件，可以给用户提供收发消息，文件传送等实用功能。这样，便可诱使对方主动打开软件并自动创建连接，而且即便对方发现了数据通信行为，也会以为是正常聊天功能所产生的，我们就可以在他毫不知情的情况下对其进行各种操控以及文件的获取。
1.2需求定位
“Chat Cheater”软件把自己包装成“聊天软件”发布，诱使对方使用该工具。一旦对方使用，我们就可以对其进行远程控制，包括观察和操控对方主机画面、文件获取、进程管理等。通过对这些隐私信息的监控和获取，可以得到对我们有价值的情报信息。

1.3需求规格
1.3.1一般性描述
“Chat Cheater” 对用户的软硬件环境配置没有过多要求，能在包括Windows 7、Windows Vista、Windows Xp等多种版本的Windows操作系统下运行。
1.4创意总结
1、将木马控制功能很好的隐藏于聊天软件中，如果不开启木马操控模式，该软件和普通聊天软件别无二致；杀毒软件认为该软件是“安全的”；当使用普通用户运行时，Win7自带的安全提示功能在安全级别最高的情况下也不会报警。
 
2、一旦进入“超级模式”，便可对对方进行多方面的操控而不引起对方注意；
3、具有“文件获取”功能，可以读取对方硬盘上包括隐藏文件在内的文件列表，并在不引起其注意的情况下对感兴趣的文件进行获取。
2.设计规格说明
2.1背景介绍
2.1.1作用范围
“Chat Cheater” 软件使用简单，界面友好，适用性强，具有较强的可扩展性，对硬件没有特殊要求，兼容性较好。聊天界面可以根据需求灵活升级、改变。
2.1.2参考文档
[1] Jasmin Blanchette的《C++ GUI Programming with Qt 4, Second Edition》，Prentice Hall出版, 2008； 
[2] 出自www.yafeilinux.com的《Qt Creator系列教程》， 2011；
[3] CharlesPetzold的《Windows程序设计（第五版）》，清华大学出版社，2010.
2.2软件功能设计
Chat Server具有网络通信模块，和聊天记录模块；
Chat Client则包括网络通信模块，聊天记录模块和远程控制模块；其中“远程控制模块”独立于其它各个模块。
2.3软件逻辑设计
2.3.1流程设计
2.3.2用户界面设计
1、主界面（聊天界面）            
服务器端（受控端）								    客户端（控制端）
2、聊天记录界面：
3、客户端（控制端）的超级模式界面：

2.4软件原理设计
一、通信
“Chat Cheater”采用网络套接字实现通信功能，通信双方建立TCP连接后，使用套接字完成数据的收发。在TCP协议的基础上，我们自定义了一组通信协议，不仅进一步保证了通信质量，也使得受控端可以根据控制端的不同指令执行相应动作。
二、控制
应用了多线程技术实现获取主机画面功能，受控端开启专门线程不断将主机屏幕截图发送到控制端。在控制端使用鼠标、键盘进行远程操作时，调用Windows API使受控端对各个动作进行响应。
三、聊天记录
自定义聊天记录二进制文件格式，保护记录信息。
2.5软件运行平台设计
“Chat Cheater”适用于于Windows 2000或以上操作系统平台下。
2.6部署与安装设计
双击“setup.exe”，按照提示进行安装。安装“Chat Cheater”不会修改计算机的启动项、注册表、系统文件等信息。软件可部署在任何装有Windows 2000或以上版本操作系统的单台机器上。

3.软件使用说明
3.1系统安装说明
在安装本程序前按以下步骤检查计算机配置：
1、硬件配置
a) 本软件推荐使用Intel Atom 1.60GHz以上CPU，内存128M以上，至少有50M硬盘剩余空间的PC。
b) 为了获得最佳显示效果，主机显示器需要支持并运行在SVGA（800*600）或更高的模式。
2、软件配置
 本软件可以运行Windows NT/XP/2000/Vista/7的计算机上，在使用本程序之前，系统中需要安装Windows 2000或以上版本的操作系统。
在检查完计算机的硬件和软件配置之后，双击软件图标就可运行程序。

3.2系统卸载说明
双击“unistall.exe”，按照提示进行卸载。卸载完成后不会在系统中留下任何痕迹。
3.3系统使用说明
双击程序图标，即可启动“Chat Cheater”，以Chat Server为例进行界面描述：
 

一、准备工作：
1、	　服务器打开后，可通过“查看IP”功能得知本机所有IP（包括有线网和无线网）。
2、	　客户端在“IP地址栏”输入对方IP地址（IP输入有一定的纠错和自动加点功能）。在输入正确的IP地址后，点击“连接”图标，与服务器建立连接，如果状态栏提示“连接成功”则说明连接正常建立。
 
二、通用功能：
１、	成功建立连接后就可以实现基本聊天功能，双方在输入栏输入文字，点击“发送”按钮或使用快捷键“Ctrl+Ｅｎｔｅｒ”发送消息。
２、	点击“传文件”图标，或“拖拽文件”至聊天界面，可实现文件传输功能。
３、	点击“聊天记录”图标，会弹出聊天记录界面，查看所有聊天记录。
 
三、客户端（控制端）功能：
在成功连接后，点击“超级模式”按钮，即可进入“超级模式”。主要功能有：
１、	获取、暂停服务器端画面传输，可以使用鼠标、键盘进行“远程操作”；
2、全屏显示对方主机画面；
3、隐蔽获取对方磁盘文件；在下方地址栏输入地址，点击“进入”按钮或按回车即可进入目录。
4、	管理对方主机进程；
5、点击“一键关机”按钮，即可对远程计算机执行“强制关机”；
6、工具栏在解锁后可自动隐藏。

3.4疑难问题解答
按钮变为无效（灰白色）原因说明:
	某些按钮需要在满足一定条件后才可以使用，比如：“超级模式”按钮必须在成功建立连接后才会启用，进程管理界面的“结束进程”按钮需在选中某个进程后才会启用。注：将鼠标放置到相应按钮上便可以看到相关提示。
